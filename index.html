<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<link href='https://www.blogger.com/static/v1/widgets/55013136-widget_css_bundle.css' rel='stylesheet' type='text/css'/>
	<meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0' name='viewport' />
	<title>Drive Video Player</title>
	<link rel="shortcut icon" href="https://www.youtube.com/s/desktop/ca23eea5/img/favicon_144x144.png"
		type="image/x-icon" />
</head>

<body>
	<style>
		body {
			padding: 0;
			margin: 0;
		}

		video {
			background: black;
			width: 100%;
			max-width: 100%;
			height: 100%;
			max-height: 100%;
			position: absolute;
		}

		.embed {
			position: absolute;
			background: none;
			top: 2px;
			z-index: 999;
			color: aqua;
			font-family: sans-serif;
			font-size: 18px;
			border: 0;
			font-weight: 600;
			right: 10px;
		}
	</style>
	<script src="https://cdn.fluidplayer.com/v3/current/fluidplayer.min.js"></script>
	<script>
		/*<![CDATA[*/
		var apikey = "AIzaSyA8NOaenJCeGNOPCADY9YvOgHVlP_pP0Pw"; //Your Drive Api Key
		var eid = "";
		var video = "";
		var embed = "";

		if (!getParameterByName('id') || getParameterByName('ib')) {
			var eid = prompt('Input ID Google Drive :- ');
			embed = `
<iframe allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='true' frameborder='0' height='100%' scrolling='no' src='${location.href}?id=${eid}' width='100%'></iframe>
          `;
			prompt('Success, please take URL embed :- ', embed);
			window.location.href = window.location.href + '?id=' + eid;
		}
		video = getParameterByName('id');
		if (getParameterByName('ib')) {
			video = btoa(getParameterByName('ib'));
		}
		var vidurl = "https://www.googleapis.com/drive/v3/files/" + video + "?alt=media&key=" + apikey;
		console.log(vidurl)
		document.write("<video controls crossorigin playsinline class='js-player' data-poster='' id='player' src='" + vidurl +
			"'></video>");


		function getembed() {
			var code = `
<iframe allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen='true' frameborder='0' height='100%' scrolling='no' src='${location.href}?id=${video}' width='100%'></iframe>
          `;
			prompt('Here is Your Embed Code :- ', code);
		}

		function getParameterByName(name, url = window.location.href) {
			name = name.replace(/[\[\]]/g, '\\$&');
			var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
				results = regex.exec(url);
			if (!results) return null;
			if (!results[2]) return '';
			return decodeURIComponent(results[2].replace(/\+/g, ' '));
		}
		/*]]>*/
	</script>
	<script src='path/to/plyr.js'></script>
	<script>
   /*<![CDATA[*/
  const player = new Plyr('#player');  
  /*]]>*/
</script>
</body>
</html>
